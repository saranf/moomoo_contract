<html>
<head>
    <title>moomoo_contrace</title>
    <link rel="stylesheet" type="text/css" href="/css/style.css">
    <script src="/javascript/main_table.js"></script>
    <script src="/javascript/firebase_config.js"></script>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    

    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/7.8.0/firebase-app.js"></script>

    <!-- TODO: Add SDKs for Firebase products that you want to use
        https://firebase.google.com/docs/web/setup#available-libraries -->
    <script src="https://www.gstatic.com/firebasejs/7.8.0/firebase-analytics.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.8.0/firebase.js"></script>
</head>
<body>
    <div id="table">
        <div class="row first" >
            <span>계약서 저장</span>
        </div>
        <div class="row" >
            <span class="cell">계약서</span>
            <span class="cell">계약명</span>
            <span class="cell">계약금액</span>
            <span class="cell">회사명</span>
            <span class="cell">계약방식(급여지급방식)</span>
            <span class="cell">계약기간</span>
            <span class="cell">저장</span>
        </div> 
        <div class="row" id ="row">
            <span class="cell" id ="contract"><input type="file"></span>
            <span class="cell" id ="contract_Name"><input type="text"></span>
            <span class="cell" id ="contract_amount"><input type="text"></span>
            <span class="cell" id ="company_Name"><input type="text"></span>
            <span class="cell" id ="contract_method"> 
                    <select name="Contract" id="Contract">
                        <option value="">계약방식 선택</option>
                        <option value="월지급방식">월지급방식</option>
                        <option value="선지급방식">선지급방식</option>
                    </select>
            </span>
            <span class="cell"><input type="date" id="first_date"> ~ <input type="date" id="last_date"></span>
            <span class="cell"><button type="submit" onclick="javascript:database_submit()">submit</button></span>
        </div> 
    </div>
    <input type="button" value="+" onclick="javascript:row_add()">
        
</body>

<script>

     // Initialize Firebase
    var config = {
        apiKey: "AIzaSyDUk8HYC_3IkeQjwMls3uwjUMEUddrZdWI",
        authDomain: "friendlychat-91ce7.firebaseapp.com",
        databaseURL: "https://friendlychat-91ce7.firebaseio.com",
        projectId: "friendlychat-91ce7",
        storageBucket: "friendlychat-91ce7.appspot.com",
        messagingSenderId: "374289931064",
        appId: "1:374289931064:web:01edce5a17550090d0bfcd",
        measurementId: "G-S6CB7GYDF0"
    };
    firebase.initializeApp(config);
    
    function database_submit(){
        var newPostKey = firebase.database().ref().child('posts').push().key;
  
        var postData = {
            brdno: newPostKey,
            contract:  document.getElementById('contract'),
            contract_Name : document.getElementById('contract_Name'),
            contract_amount : document.getElementById('contract_amount'),
            company_Name : document.getElementById('company_Name'),
            contract_method : document.getElementById('Contract'),
            first_date : document.getElementById('first_date'),
            last_date : document.getElementById('last_date')
        };

        var updates = {};
        updates['/board/' + newPostKey] = postData;

        firebase.database().ref().update(updates);
    }
   
            
  </script>
    


</html>
